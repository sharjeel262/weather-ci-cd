<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Weather Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen p-6">

  <h1 class="text-3xl font-bold text-center mb-6">Weather Dashboard</h1>

 
  <div id="weatherContainer" class="grid md:grid-cols-3 gap-6"></div>

  <script>
    let cities = ["Lahore", "Karachi", "Islamabad"];
    async function getCoordinates(city) {
      const url = `https://geocoding-api.open-meteo.com/v1/search?name=${city}`;
      const res = await fetch(url);
      const data = await res.json();

      if (!data.results) return null;

      return {
        name: data.results[0].name,
        lat: data.results[0].latitude,
        lon: data.results[0].longitude
      };
    }
    async function getWeather(lat, lon) {
      const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current=temperature_2m,relative_humidity_2m,pm10`;
      const res = await fetch(url);
      const data = await res.json();

      return {
        temp: data.current.temperature_2m,
        humidity: data.current.relative_humidity_2m,
        aqi: data.current.pm10  
      };
    }
    async function loadWeather() {
      const container = document.getElementById("weatherContainer");
      container.innerHTML = "";

      for (let city of cities) {
        const coords = await getCoordinates(city);
        if (!coords) continue;

        const weather = await getWeather(coords.lat, coords.lon);

        container.innerHTML += `
          <div class="p-5 bg-white rounded-xl shadow-lg text-center">
            <h2 class="text-xl font-bold mb-2">${coords.name}</h2>

            <p class="text-lg">Temp: <span class="font-semibold">${weather.temp}Â°C</span></p>
            <p class="text-lg">Humidity: <span class="font-semibold">${weather.humidity}%</span></p>
            <p class="text-lg">AQI: <span class="font-semibold">${weather.aqi}</span></p>
          </div>
        `;
      }
    }

    loadWeather();
  </script>

</body>
</html>
